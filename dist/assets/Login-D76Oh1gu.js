import{d as y,u as _,r as i,c as d,a as t,b as h,e as u,w as p,v as m,t as v,f as L,g as V,h as k,i as C,j as S,o as c,_ as N}from"./index-C3eiZ6Va.js";const B={class:"card",style:{"max-width":"480px",margin:"32px auto"}},E={style:{"margin-top":"10px"}},P={key:0,class:"error",role:"alert",style:{"margin-top":"8px"}},R={class:"row",style:{gap:"8px","margin-top":"16px"}},U=["disabled"],q=y({__name:"Login",setup(D){const g=S(),f=_(),l=i(""),o=i(""),s=i(""),n=i(!1);function w(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}async function b(){if(s.value="",!w(l.value)){s.value="Please enter a valid email.";return}if(!o.value||o.value.length<6){s.value="Password must be at least 6 characters.";return}n.value=!0;try{await f.login({email:l.value,password:o.value}),g.push("/dashboard")}catch(a){s.value=(a==null?void 0:a.message)||"Login failed."}finally{n.value=!1}}return(a,e)=>{const x=k("RouterLink");return c(),d("section",B,[e[5]||(e[5]=t("h2",null,"Login",-1)),e[6]||(e[6]=t("p",{class:"muted"},"Use your email and password to sign in.",-1)),t("form",{onSubmit:C(b,["prevent"]),novalidate:""},[t("label",null,[e[2]||(e[2]=u(" Email ",-1)),p(t("input",{id:"email",class:"input",type:"email","onUpdate:modelValue":e[0]||(e[0]=r=>l.value=r),autocomplete:"email",required:""},null,512),[[m,l.value,void 0,{trim:!0}]])]),t("label",E,[e[3]||(e[3]=u(" Password ",-1)),p(t("input",{id:"password",class:"input",type:"password","onUpdate:modelValue":e[1]||(e[1]=r=>o.value=r),autocomplete:"current-password",required:"",minlength:"6"},null,512),[[m,o.value]])]),s.value?(c(),d("p",P,v(s.value),1)):h("",!0),t("div",R,[t("button",{class:"btn",disabled:n.value},v(n.value?"Signing inâ€¦":"Login"),9,U),L(x,{to:"/register",class:"btn ghost"},{default:V(()=>[...e[4]||(e[4]=[u("Create account",-1)])]),_:1})])],32)])}}}),T=N(q,[["__scopeId","data-v-36fd7cfe"]]);export{T as default};
