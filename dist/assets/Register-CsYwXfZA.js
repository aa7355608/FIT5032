import{d as V,u as C,r as a,c as g,a as t,b as R,e as l,w as r,v,j as k,t as y,f as A,g as N,h as U,i as B,o as b}from"./index-D_5nftTl.js";const D={class:"grid",style:{gap:"16px","max-width":"480px","margin-inline":"auto"}},S={class:"card"},E={class:"grid",style:{gap:"10px"}},M=["disabled"],T={key:0,style:{color:"#b91c1c",margin:"4px 0 0 0"}},j={class:"muted",style:{margin:"8px 0 0 0"}},Y=V({__name:"Register",setup(L){const c=C(),f=B(),i=a(""),d=a(""),p=a(""),m=a("user"),o=a(""),n=a(!1);async function x(){o.value="";try{n.value=!0,await c.register({name:i.value,email:d.value,password:p.value,role:m.value}),f.push("/dashboard")}catch(u){o.value=(u==null?void 0:u.message)||"Registration failed."}finally{n.value=!1}}return(u,e)=>{const w=U("router-link");return b(),g("section",D,[e[12]||(e[12]=t("div",{class:"card"},[t("h2",null,"Create Account"),t("p",{class:"muted"},"Register to save your progress and post in Community.")],-1)),t("div",S,[t("div",E,[t("label",null,[e[4]||(e[4]=l("Display Name ",-1)),r(t("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),placeholder:"Your name (optional)"},null,512),[[v,i.value,void 0,{trim:!0}]])]),t("label",null,[e[5]||(e[5]=l("Email ",-1)),r(t("input",{class:"input","onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),placeholder:"you@example.com"},null,512),[[v,d.value,void 0,{trim:!0}]])]),t("label",null,[e[6]||(e[6]=l("Password ",-1)),r(t("input",{class:"input",type:"password","onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),placeholder:"At least 6 characters"},null,512),[[v,p.value]])]),t("label",null,[e[8]||(e[8]=l("Role ",-1)),r(t("select",{class:"input","onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s)},[...e[7]||(e[7]=[t("option",{value:"user"},"User",-1),t("option",{value:"admin"},"Admin",-1)])],512),[[k,m.value]])]),t("button",{class:"btn",onClick:x,disabled:n.value},y(n.value?"Registeringâ€¦":"Register"),9,M),o.value?(b(),g("p",T,y(o.value),1)):R("",!0),t("p",j,[e[10]||(e[10]=l(" Already have an account? ",-1)),A(w,{to:"/login"},{default:N(()=>[...e[9]||(e[9]=[l("Log in",-1)])]),_:1}),e[11]||(e[11]=l(". ",-1))])])])])}}});export{Y as default};
