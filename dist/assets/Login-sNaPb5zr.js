import{d as y,u as w,r as n,c as d,a as s,b as _,e as t,w as p,v as m,t as c,f as k,g as C,h as V,i as L,o as v}from"./index-D_5nftTl.js";const N={class:"grid",style:{gap:"16px","max-width":"480px","margin-inline":"auto"}},h={class:"card"},B={class:"grid",style:{gap:"10px"}},D=["disabled"],E={key:0,style:{color:"#b91c1c",margin:"4px 0 0 0"}},I={class:"muted",style:{margin:"8px 0 0 0"}},U=y({__name:"Login",setup(S){const g=w(),b=L(),i=n(""),r=n(""),o=n(""),a=n(!1);async function f(){o.value="";try{a.value=!0,await g.login({email:i.value,password:r.value}),b.push("/dashboard")}catch(l){o.value=(l==null?void 0:l.message)||"Login failed."}finally{a.value=!1}}return(l,e)=>{const x=V("router-link");return v(),d("section",N,[e[7]||(e[7]=s("div",{class:"card"},[s("h2",null,"Log In"),s("p",{class:"muted"},"Welcome back.")],-1)),s("div",h,[s("div",B,[s("label",null,[e[2]||(e[2]=t("Email ",-1)),p(s("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=u=>i.value=u),placeholder:"you@example.com"},null,512),[[m,i.value,void 0,{trim:!0}]])]),s("label",null,[e[3]||(e[3]=t("Password ",-1)),p(s("input",{class:"input",type:"password","onUpdate:modelValue":e[1]||(e[1]=u=>r.value=u),placeholder:"Your password"},null,512),[[m,r.value]])]),s("button",{class:"btn",onClick:f,disabled:a.value},c(a.value?"Logging inâ€¦":"Log In"),9,D),o.value?(v(),d("p",E,c(o.value),1)):_("",!0),s("p",I,[e[5]||(e[5]=t(" No account? ",-1)),k(x,{to:"/register"},{default:C(()=>[...e[4]||(e[4]=[t("Create one",-1)])]),_:1}),e[6]||(e[6]=t(". ",-1))])])])])}}});export{U as default};
